## 好的推荐体统
- 1.1 什么是推荐系统
    - 以决定看什么电影为例
        - 向朋友咨询
        - 直接搜索喜欢的演员名
        - 查看top榜
- 1.2 个性化推荐系统的应用
    - 1.2.1 电子商务
        - 推荐结果的标题、缩略图以及其他内容属性
        - 推荐结果的平均分
        - 推荐理由
    - 1.2.2 电影和视频网站
        - 电影的标题和海报
        - 用户反馈模块
        - 推荐理由
    - 1.2.3 个性化音乐网络电台
        - 物品空间大
        - 消费每首歌的代价很小
        - 物品种类丰富
        - 听一首歌耗时很少
        - 物品重用率很高
        - 用户充满激情
        - 上下文相关
        - 次序很重要
        - 很多播放列表资源
        - 不需要用户全神贯注
        - 高度社会化
    - 1.2.4 社交网络
        - 利用用户的社交网络信息对用户进行个性化物品推荐
        - 信息流的会话推荐
        - 给用户推荐好友
    - 1.2.5 个性化阅读
    - 1.2.6 基于位置的服务
    - 1.2.7 个性化邮件
    - 1.2.8 个性化广告
        - 上下文广告
        - 搜索广告
        - 个性化展示广告
- 1.3 推荐测评系统
    - 预测太阳明天从东边升起是一种没有意义的预测
    - 1.3.1 推荐系统实验方法
        1. 离线实验
            - 通过日志系统获得用户行为数据，并按照一定格式生成一个标准的数据集
            - 将数据集按照一定的规则分成训练集和测试集
            - 在训练集上训练用户兴趣模型，在测试集上进行预测
            - 通过事先定义的离线指标评测算法在测试集上的预测结果
        2. 用户调查
        3. 在线实验
            - AB测试是一种很常用的在线评测算法的实验方法 http://www.abtests.com/
            - 一般来说一个新的推荐算法最终上线，需要完成上面所说的3个实验
                - 通过离线证明他在很多离线指标上优于现有算法
                - 通过用户调查确定他的用户满意度不低于现有的算法
                - 通过在线的AB测试确定他在我们关心的指标上优于现有的算法
    - 1.3.2 测评指标
        1. 用户满意度
        2. 预测精准度
            - 评分预测
                - 评分预测的预测准确度一般通过均方根误差（RMSE）和平均绝对误差（MAE）计算。
                - 假设我们用一个列表records存放用户评分数据，令records[i] = [u,i,rui,pui]，其
                    中rui是用户u对物品i的实际评分，pui是算法预测出来的用户u对物品i的评分，那么下面的代
                    码分别实现了RMSE和MAE的计算过程。
                    
                        def RMSE(records):
                            return math.sqrt(\
                                sum([(rui - pui) * (rui - pui) for u,i,rui,pui in records])\
                                /float(len(records)))
                    
                        def MAE(records):
                            return sum([abs(rui - pui) for u,i,rui,pui in records])\
                                /float(len(records))
            - TopN推荐
                - 网站在提供推荐服务时，一般是给用户一个个性化的推荐列表，这种推荐叫做TopN推荐。
                    TopN推荐的预测准确率一般通过准确率(precision)/召回率(recall)
                - 下面的Python代码同时计算出了一个推荐算法的准确率和召回率：
                
                        def PrecisionRecall(test,N)
                            hit = 0
                            n_recall = 0
                            n_precision = 0
                            for user, items in test.items():
                                rank = Recommend(user, N)
                                hit += len(rank & items)
                                n_recall += len(items)
                                n_precision += N
                            return [hit / (1.0 * n_recall), hit / (1.0 * n_precision)]
                            
                - 有的时候，为了全面测评TopN推荐的准确率和召回率，一般会选取不同的推荐列表长度N，
                    计算出一组准确率/召回率，然后画出准确率/召回率(precision/recall curve)
        3. 覆盖率
            - 覆盖率(coverage)描述一个推荐系统对物品长尾的发觉能力。覆盖率有不同的定义方法，
                最简单的定义为推荐体统能够推荐出来的物品占总物品集合的比例。假设系统的用户集合为U，
                推荐系统给每个用户推荐一个长度为N的物品列表R(u)。那么推荐系统的覆盖率可以通过下面的
                公式计算
                $ Coverage = $ \sum_{x=0}^{n} 